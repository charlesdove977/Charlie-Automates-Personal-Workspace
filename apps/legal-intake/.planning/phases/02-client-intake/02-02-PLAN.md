---
phase: 02-client-intake
plan: 02
type: execute
---

<objective>
Build the firm landing page and intake form shell with multi-file upload capability.

Purpose: Create the client-facing intake interface where potential clients land and begin their submission.
Output: Working `/[firmSlug]` route with file upload dropzone component.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan context:
@.planning/phases/02-client-intake/02-01-SUMMARY.md

# Key files:
@src/lib/supabase/client.ts
@prisma/schema.prisma

**Tech stack available:** Next.js 16.1.1, React 19, Tailwind 4, Prisma 7, @supabase/ssr
**Established patterns:** App Router, server components, professional zinc color palette

**UX Philosophy (from PROJECT.md):**
- Boring, safe, professional UI
- No experimental UX
- Lawyers must feel: "This won't get me sued."
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create firm landing page with dynamic routing</name>
  <files>src/app/[firmSlug]/page.tsx, src/app/[firmSlug]/layout.tsx</files>
  <action>
1. Create src/app/[firmSlug]/layout.tsx:
   - Server component that fetches firm by slug from database
   - If firm not found, return notFound()
   - Pass firm data to children via context or props
   - Apply firm branding (primaryColor from Firm model)

2. Create src/app/[firmSlug]/page.tsx:
   - Server component with professional landing page layout
   - Display firm name and logo (if present)
   - "Begin Your Case Intake" heading
   - Brief professional intro text explaining the process
   - Link/button to start intake form (will be `/[firmSlug]/intake`)
   - Use zinc color palette for conservative legal aesthetic

UI notes:
- Center content with max-w-2xl container
- Use firm's primaryColor for accent elements (buttons, borders)
- Keep layout minimal and trust-building (no flashy elements)
  </action>
  <verify>Navigate to /test-firm (assuming test firm exists), verify page renders without errors</verify>
  <done>Dynamic firm page at /[firmSlug] displays firm name and intro with professional styling</done>
</task>

<task type="auto">
  <name>Task 2: Build file upload dropzone component</name>
  <files>src/components/intake/FileDropzone.tsx, src/components/intake/FileList.tsx</files>
  <action>
1. Create src/components/intake/FileDropzone.tsx:
   - 'use client' component
   - Native HTML5 drag-and-drop zone (no external libraries needed)
   - Accept multiple files, filter to allowed types: .pdf, .doc, .docx, .jpg, .jpeg, .png
   - Max file size: 10MB per file
   - Visual states: idle, drag-over, uploading, error
   - onFilesSelected callback prop to pass files to parent
   - Display accepted file types and size limit to user

2. Create src/components/intake/FileList.tsx:
   - Display list of selected files with name, size, type
   - Remove button for each file
   - Show upload progress when uploading (percent bar)
   - Show success/error state per file

Styling:
- Dashed border dropzone (zinc-300 border)
- Professional icons (document icon for files)
- Zinc/slate color scheme matching overall aesthetic
- Clear visual feedback on drag-over (zinc-200 background)
  </action>
  <verify>Components render without errors, file selection works, drag-and-drop triggers onFilesSelected</verify>
  <done>FileDropzone accepts multi-file drop/select with validation, FileList displays selected files</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm build` succeeds without errors
- [ ] `pnpm lint` passes
- [ ] `/[firmSlug]` route renders for valid firm slugs
- [ ] FileDropzone accepts drag-and-drop files
- [ ] File type and size validation works (rejects invalid files)
</verification>

<success_criteria>

- Firm landing page displays at /[firmSlug] with firm branding
- File dropzone component handles multi-file selection
- File validation enforces allowed types and size limits
- Professional, conservative UI matches legal industry expectations
</success_criteria>

<output>
After completion, create `.planning/phases/02-client-intake/02-02-SUMMARY.md` following the summary template.
</output>
